

# Normalization  
#### [정규화란?](https://yaboong.github.io/database/2018/03/09/database-normalization-1/)  

## 1. 정규화  

* (제대로 설계되지 않은) 스키마에 대하여, 데이터의 redundancy를 줄이는 방향으로 **재설계**하는 것.  

#### 2. 흠...?
* 하지만 이러한 정규화 과정을 거친 데이터베이스는 table이 많아 진다.  
* 즉, foreign key로 관계를 맺음으로서, 어플리케이션에서 요구하는 query를 수행하기 위하여 high cost한 **join**을 수행하는 것.  
* 그렇기에 퍼포먼스 개선을 위하여 **denormalization**을 수행할 수 있다.  


## 2. 1NF  
* 스키마(릴레이션)가 가지는 필드(속성, attribute)에 대하여, 하나의 값만 가지도록 - 원자적 value를 가지도록 재설계하는 것이다.  

## 3. 2NF  
* 기본키를 이루는 필드가 아닌, 모든 속성은 기본키에 **완전 함수적 종속성**을 가져야 한다.  
* **부분 함수적 종속성**이 없어야 한다.  

### 3.1. 완전 함수적 종속성  
* 함수적 종속성은 X에 의해 Y가 결정될 때, X를 결정자 Y를 종속자라고 한다.  
* X 집합을 이루는 부분 필드만으로 Y를 결정할 수 있다는 **부분 함수적 종속성**이 없다면 이를 **완전 함수적 종속성**이라고 한다.  

>> 부분 함수적 종속성을 가지는 필드만 분리하여, 새로운 테이블 생성  

## 4. 3NF  
* 기본키가 아닌 모든 속성은 기본키에 대하여 **이행 함수적 종속성**이 없어야 한다.  

### 4.1. 이행 함수적 종속성  
* 이행 함수적 종속성이란 결정자 X가 Y를 결정하고, Y가 다시 Z를 결정하여 X가 Z를 이행적으로 결정하는 상태  

| 학번 | 학부 | 등록금 |
이와 같은 테이블에서 학번이 기본키라면  
학번은 학부를 결정
학부는 등록금을 결정한다.  
학번은 이행적으로 등록금을 결정하게 된다.  

| 학번 | 학부(fk) |        | 학부 | 등록금 |  
*이와 같이 X Y 그리고 Y Z를 나눈다.  



































